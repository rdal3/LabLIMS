# Dashboard - Sugest√µes para Lab-LIMS

## 1. Dashboard Principal - Vis√£o Operacional

### Layout Sugerido

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  LAB√ÅGUA LIMS - Dashboard                               ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                          ‚îÇ
‚îÇ  üìä RESUMO GERAL                                         ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îÇ
‚îÇ  ‚îÇ Total    ‚îÇ Em       ‚îÇ Conclu√≠do‚îÇ Pendente ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ Amostras ‚îÇ An√°lise  ‚îÇ          ‚îÇ          ‚îÇ         ‚îÇ
‚îÇ  ‚îÇ   145    ‚îÇ    32    ‚îÇ    98    ‚îÇ    15    ‚îÇ         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  üìà PROGRESSO POR MATRIZ                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ Rede de Distribui√ß√£o (RD)       ‚ñà‚ñà‚ñà‚ñà‚ñë 80%  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ ETA Semanal (ETA-S)             ‚ñà‚ñà‚ñà‚ñë‚ñë 60%  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ ETA Mensal (ETA-M)              ‚ñà‚ñà‚ñë‚ñë‚ñë 40%  ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ √Ågua Superficial (AS)           ‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚îÇ        ‚îÇ
‚îÇ  ‚îÇ ETE (ETE)                       ‚ñà‚ñà‚ñà‚ñà‚ñë 75%  ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  üî¨ AN√ÅLISES MAIS COMUNS                                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê        ‚îÇ
‚îÇ  ‚îÇ pH                              120 an√°lises‚îÇ        ‚îÇ
‚îÇ  ‚îÇ Turbidez                        115 an√°lises‚îÇ        ‚îÇ
‚îÇ  ‚îÇ Coliformes Totais               98 an√°lises ‚îÇ        ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ
‚îÇ                                                          ‚îÇ
‚îÇ  üìÖ AMOSTRAS RECENTES                                   ‚îÇ
‚îÇ  (Tabela das √∫ltimas 10 amostras)                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Componentes do Dashboard

#### 1. **Cards de Estat√≠sticas**
- Total de amostras
- Amostras em an√°lise
- Amostras conclu√≠das
- Amostras aguardando

#### 2. **Gr√°fico de Progresso por Matriz**
- Barras horizontais mostrando % de conclus√£o
- Cores correspondentes √†s matrizes
- Clic√°vel para filtrar amostras dessa matriz

#### 3. **Timeline de Amostras**
- Gr√°fico de linha mostrando amostras criadas por dia/semana/m√™s
- √ötil para identificar picos de trabalho

#### 4. **An√°lises Pendentes - Prioridade**
- Lista de amostras com prazo mais pr√≥ximo
- Destaque para amostras atrasadas

#### 5. **Distribui√ß√£o por Cliente**
- Gr√°fico de pizza ou barras
- Mostra quais clientes mais enviam amostras

## 2. Dashboard de Produtividade

### M√©tricas Importantes

```typescript
interface DashboardMetrics {
  today: {
    samplesCreated: number;
    samplesCompleted: number;
    analysesPerformed: number;
  };
  week: {
    avgCompletionTime: number; // em horas
    totalAnalyses: number;
    completionRate: number; // percentual
  };
  month: {
    totalSamples: number;
    byMatrix: {
      matrixName: string;
      count: number;
      avgProgress: number;
    }[];
  };
}
```

### Visualiza√ß√µes

1. **Heatmap de Atividade**
   - Mostra dias/horas com mais atividade
   - Identifica padr√µes de trabalho

2. **Funil de An√°lises**
   - Criadas ‚Üí Em An√°lise ‚Üí Conclu√≠das
   - Mostra onde h√° gargalos

3. **Tempo M√©dio por Matriz**
   - Quanto tempo leva para completar cada tipo
   - √ötil para planejamento

## 3. Dashboard de Qualidade

### Indicadores

1. **Taxa de N√£o-Conformidade**
   - An√°lises que precisaram ser refeitas
   - Por tipo de an√°lise

2. **Conformidade com Prazos**
   - % de amostras conclu√≠das no prazo
   - Hist√≥rico mensal

3. **An√°lises Mais Problem√°ticas**
   - Quais par√¢metros demoram mais
   - Quais t√™m mais erros

## 4. Estrutura de Dados para Dashboard

### Endpoints Sugeridos

```javascript
// Backend - app.js

// 1. Estat√≠sticas Gerais
app.get('/dashboard/stats', (req, res) => {
  const stats = {
    total: db.prepare('SELECT COUNT(*) as count FROM amostras').get().count,
    aguardando: db.prepare('SELECT COUNT(*) as count FROM amostras WHERE status = "Aguardando"').get().count,
    emAnalise: db.prepare('SELECT COUNT(*) as count FROM amostras WHERE status = "Em An√°lise"').get().count,
    concluido: db.prepare('SELECT COUNT(*) as count FROM amostras WHERE status = "Conclu√≠do"').get().count
  };
  res.json(stats);
});

// 2. Progresso por Matriz
app.get('/dashboard/by-matrix', (req, res) => {
  const sql = `
    SELECT 
      matriz,
      COUNT(*) as total,
      AVG(
        CASE 
          WHEN status = 'Conclu√≠do' THEN 100
          WHEN status = 'Em An√°lise' THEN 50
          ELSE 0
        END
      ) as avgProgress
    FROM amostras
    WHERE matriz IS NOT NULL
    GROUP BY matriz
  `;
  const data = db.prepare(sql).all();
  res.json(data);
});

// 3. Timeline (amostras por dia)
app.get('/dashboard/timeline', (req, res) => {
  const sql = `
    SELECT 
      DATE(dataColeta) as date,
      COUNT(*) as count
    FROM amostras
    WHERE dataColeta >= DATE('now', '-30 days')
    GROUP BY DATE(dataColeta)
    ORDER BY date ASC
  `;
  const data = db.prepare(sql).all();
  res.json(data);
});

// 4. Top An√°lises
app.get('/dashboard/top-analyses', (req, res) => {
  const sql = `
    SELECT 
      json_each.value as analysis,
      COUNT(*) as count
    FROM amostras, json_each(amostras.analysesPlanned)
    WHERE analysesPlanned IS NOT NULL
    GROUP BY json_each.value
    ORDER BY count DESC
    LIMIT 10
  `;
  const data = db.prepare(sql).all();
  res.json(data);
});
```

### Componente Frontend

```typescript
// Dashboard.tsx
import React, { useEffect, useState } from 'react';
import { BarChart, PieChart, Activity, TrendingUp } from 'lucide-react';

interface DashboardStats {
  total: number;
  aguardando: number;
  emAnalise: number;
  concluido: number;
}

const Dashboard: React.FC = () => {
  const [stats, setStats] = useState<DashboardStats | null>(null);

  useEffect(() => {
    fetch('http://localhost:3001/dashboard/stats')
      .then(res => res.json())
      .then(data => setStats(data));
  }, []);

  if (!stats) return <div>Carregando...</div>;

  return (
    <div className="p-8 space-y-6">
      <h1 className="text-3xl font-bold">Dashboard</h1>
      
      {/* Cards de Estat√≠sticas */}
      <div className="grid grid-cols-4 gap-4">
        <StatCard 
          title="Total" 
          value={stats.total} 
          icon={Activity}
          color="blue"
        />
        <StatCard 
          title="Aguardando" 
          value={stats.aguardando} 
          icon={Activity}
          color="slate"
        />
        <StatCard 
          title="Em An√°lise" 
          value={stats.emAnalise} 
          icon={TrendingUp}
          color="amber"
        />
        <StatCard 
          title="Conclu√≠do" 
          value={stats.concluido} 
          icon={CheckCircle}
          color="emerald"
        />
      </div>

      {/* Gr√°ficos */}
      <div className="grid grid-cols-2 gap-6">
        <ProgressByMatrix />
        <TimelineChart />
      </div>
    </div>
  );
};
```

## 5. Prioriza√ß√£o de Implementa√ß√£o

### Fase 1 (Essencial) - 1-2 dias
1. ‚úÖ Cards de estat√≠sticas b√°sicas
2. ‚úÖ Progresso por matriz (barras)
3. ‚úÖ Lista de amostras recentes

### Fase 2 (Importante) - 2-3 dias
4. Timeline de cria√ß√£o de amostras
5. Top an√°lises mais comuns
6. Filtros por data/matriz/status

### Fase 3 (Avan√ßado) - 3-5 dias
7. Gr√°ficos interativos (Chart.js ou Recharts)
8. Exporta√ß√£o de relat√≥rios
9. Heatmap de atividade
10. M√©tricas de produtividade

## 6. Bibliotecas Recomendadas

### Gr√°ficos
- **Recharts** (recomendado)
  - React-native
  - Componentes prontos
  - Bom para dashboards

- **Chart.js**
  - Mais leve
  - Configur√°vel
  - Boa documenta√ß√£o

### √çcones
- **Lucide React** (j√° em uso)
  - Consistente com o projeto atual

## Resumo

A sugest√£o √© criar um **Dashboard Principal** com:
- 4 cards de m√©tricas (total, aguardando, em an√°lise, conclu√≠do)
- Progresso por matriz (barras horizontais)
- Timeline de amostras (√∫ltimos 30 dias)
- Top 10 an√°lises mais comuns
- Tabela de amostras recentes

Isso dar√° uma vis√£o clara e acion√°vel do estado do laborat√≥rio, facilitando a gest√£o e o planejamento.

---

Quer que eu implemente alguma parte espec√≠fica do dashboard?
